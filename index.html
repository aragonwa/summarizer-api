<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>Summarizer Demo + Spinner + Progress Bar</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 800px;
      margin: 40px auto;
      padding: 20px;
      line-height: 1.6;
    }

    textarea {
      width: 100%;
      height: 200px;
      padding: 10px;
    }

    button {
      padding: 10px 16px;
      margin: 10px 8px 10px 0;
      font-size: 14px;
      cursor: pointer;
    }

    #summary {
      background: #f7f7f7;
      padding: 12px;
      white-space: pre-wrap;
      border: 1px solid #ddd;
      margin-top: 20px;
      min-height: 50px;
    }

    #status {
      font-weight: bold;
      margin-bottom: 12px;
      color: #444;
    }

    /* Progress Bar */
    #progressContainer {
      width: 100%;
      background: #eee;
      height: 16px;
      border-radius: 8px;
      overflow: hidden;
      margin-top: 10px;
      display: none;
    }

    #progressBar {
      height: 100%;
      width: 0%;
      background: #4a90e2;
      transition: width 0.4s ease;
    }

    /* Spinner */
    #spinner {
      display: none;
      margin-top: 20px;
      text-align: center;
    }

    .loader {
      border: 6px solid #eee;
      border-top: 6px solid #4a90e2;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      animation: spin 1s linear infinite;
      margin: auto;
    }

    @keyframes spin {
      0% {
        transform: rotate(0deg);
      }

      100% {
        transform: rotate(360deg);
      }
    }
  </style>
</head>

<body>

  <h1>Summarizer API Demo</h1>
  <h2>The Summarizer API summarizes a given body of text via a browser's internal AI model (which may differ between
    browsers)</h2>
  <ul>
    <li>Providing a summary of a full article so the reader can judge whether to read the whole thing.
    <li>Summarizing a meeting transcript so those joining the meeting late can get up to speed with what they've
      missed.</li>
    <li>Summarizing a set of product reviews to quickly communicate overall sentiment.</li>
    </li>
  </ul>
  <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Summarizer_API">Learn more</a></p>
  <div id="status">Checking browser support...</div>

  <textarea id="inputText"
    placeholder="Paste or type text here...">As remote work becomes increasingly common, companies are rethinking how to design effective hybrid collaboration models. While digital tools like video conferencing and shared whiteboards make teamwork possible across distances, many teams still struggle with communication overload and meeting fatigue. Research shows that hybrid teams perform best when they establish clear communication norms, schedule focused work periods, and reduce unnecessary synchronous meetings. Some companies are now adopting “async-first” policies, allowing employees to contribute on their own time while reserving real-time meetings for high-impact discussions.</textarea>

  <div>
    <button onclick="runSummary('tldr')">TL;DR</button>
    <button onclick="runSummary('key-points')">Key Points</button>
    <button onclick="runSummary('teaser')">Teaser paragraph</button>
    <button onclick="runSummary('headline')">Article headline</button>
  </div>

  <!-- Model Loading Progress Bar -->
  <div id="progressContainer">
    <div id="progressBar"></div>
  </div>

  <!-- Spinner for summarizing -->
  <div id="spinner">
    <div class="loader"></div>
    <p>Generating summary...</p>
  </div>

  <h3>Summary Output</h3>
  <div id="summary">Your summary will appear here.</div>

  <script src="./index.js"></script>
</body>

</html>